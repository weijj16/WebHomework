{"version":3,"sources":["..\\..\\..\\..\\assets\\Script/assets\\Script\\Main.js"],"names":["cc","Class","extends","Component","properties","pressAudio","default","url","AudioClip","startAudio","Map1Btn","type","Node","Map2Btn","RankBtn","rank","rank_num","Label","rank_close","IntroBtn","intro","intro_close","onLoad","self","director","preloadScene","id","audioEngine","play","on","pause","loadScene","sys","localStorage","setItem","r","rank_anim","getComponent","Animation","pauseSystemEvents","arr","getItem","split","i","string","resumeSystemEvents","intro_anim"],"mappings":"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","file":"Main.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] http://www.cocos2d-x.org/docs/creator/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        //开始按钮对象\r\n        pressAudio:\r\n        {\r\n            default:null,\r\n            url: cc.AudioClip\r\n        },\r\n        startAudio: {\r\n            default:null,\r\n            url: cc.AudioClip\r\n        },\r\n        Map1Btn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        Map2Btn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //打开排行榜按钮\r\n        RankBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //排行榜\r\n        rank: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //排行榜数据\r\n        rank_num: {\r\n            default: [],\r\n            type: [cc.Label]\r\n        },\r\n        //排行榜关闭按钮\r\n        rank_close: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //打开指导\r\n        IntroBtn: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        intro: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n        //关闭指导\r\n        intro_close: {\r\n            default: null,\r\n            type: cc.Node\r\n        },\r\n    },\r\n\r\n    // use this for initialization\r\n    onLoad: function() {\r\n        //this.startAudio.play();\r\n        let self = this;\r\n        //预加载game游戏场景\r\n        cc.director.preloadScene('game1');\r\n        cc.director.preloadScene('game2');\r\n        let id = cc.audioEngine.play(self.startAudio, true, 1 );\r\n        //绑定开始事件，跳转到游戏界面\r\n        this.Map1Btn.on('touchstart', function() {\r\n            cc.audioEngine.pause(id);\r\n            cc.audioEngine.play(self.pressAudio, false, 1);\r\n            cc.director.loadScene('game1');\r\n            cc.sys.localStorage.setItem('mapNum', 1);\r\n        });\r\n        this.Map2Btn.on('touchstart', function() {\r\n            cc.audioEngine.pause(id);\r\n            cc.audioEngine.play(self.pressAudio, false, 1);\r\n            cc.director.loadScene('game2');\r\n            cc.sys.localStorage.setItem('mapNum', 2);\r\n        });\r\n        //打开排行榜\r\n        let r=this;\r\n        this.rank_anim=r.rank.getComponent(cc.Animation);\r\n        this.RankBtn.on('touchstart', function(){\r\n            //显示排行榜\r\n            cc.audioEngine.play(self.pressAudio, false, 1);\r\n            r.rank_anim.play('rank_open');\r\n\r\n            r.RankBtn.pauseSystemEvents(true);\r\n            r.Map1Btn.pauseSystemEvents(true);\r\n            r.Map2Btn.pauseSystemEvents(true);\r\n            r.IntroBtn.pauseSystemEvents(true);\r\n            //显示排行榜数据\r\n            let arr=cc.sys.localStorage.getItem('arr');\r\n            arr?arr=arr.split(','):arr=[];\r\n            for(let i = 0; i < 5; i++){\r\n                arr[i] = arr[i] || 0;\r\n                r.rank_num[i].string = arr[i];\r\n            }\r\n        });\r\n        //关闭排行榜\r\n        this.rank_close.on('touchstart', function(){\r\n            r.rank_anim.play('rank_close');\r\n            r.RankBtn.resumeSystemEvents(true);\r\n            r.Map1Btn.resumeSystemEvents(true);\r\n            r.Map2Btn.resumeSystemEvents(true);\r\n            r.IntroBtn.resumeSystemEvents(true);\r\n        });\r\n\r\n        //打开指导界面\r\n        let i = this;\r\n        this.intro_anim=i.intro.getComponent(cc.Animation);\r\n        this.IntroBtn.on('touchstart', function(){\r\n            //显示指导界面\r\n            cc.audioEngine.play(self.pressAudio, false, 1);\r\n            i.intro_anim.play('intro_open');\r\n            i.IntroBtn.pauseSystemEvents(true);\r\n            i.RankBtn.pauseSystemEvents(true);\r\n            i.Map1Btn.pauseSystemEvents(true);\r\n            i.Map2Btn.pauseSystemEvents(true);\r\n\r\n        });\r\n        //关闭\r\n        this.intro_close.on('touchstart', function(){\r\n            i.intro_anim.play('intro_close');\r\n            i.IntroBtn.resumeSystemEvents(true);\r\n            i.RankBtn.resumeSystemEvents(true);\r\n            i.Map1Btn.resumeSystemEvents(true);\r\n            i.Map2Btn.resumeSystemEvents(true);\r\n        });\r\n        //this.startAudio.pause();\r\n    },\r\n});"]}